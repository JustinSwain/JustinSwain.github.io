<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Justin Swain - Ultimate Tic Tac Toe</title>
    <link rel="stylesheet" href="/style/style.css">
    <link rel="icon" href="/images/spaceKitty.png">
    <style>
        canvas {
            width: 100%;
            max-width: 360px;
            display: block;
            margin: auto;
        }
    </style>
  </head>
  <body>

<div id="container"><div id="topBar">
    <!--<marquee>Welcome!</marquee>-->
</div>
<div id="headerArea">
    <div id="header">
        <a href="/"><img src="/images/spaceKitty.png" height="120px"></a>
            <a href="/" style="text-decoration: none;"><strong style="font-size: x-large;">justinswain.github.io</strong></a>
    </div>
</div>

<div id="flex">

    <main>
        <h1>Ultimate Tic Tac Toe</h1>
        <div class="box">
            <canvas id="game" width="360" height="360"></canvas>
                <script src="script.js"></script>
            <div>
                <p>
                    An ultimate tic tac toe game with a bot that runs a depth weighted <a href="https://en.wikipedia.org/wiki/Minimax">minimax algorithm</a> in each sub-game. This means the AI would play optimally to win or force a tie on a regular 3x3 board with alternating turns, but since turns in each board do not alternate in Ultimate Tic Tac Toe the AI can be beaten.
                </p>
                <p>
                    Rules: Alternating turns. One large 3x3 grid contains a smaller sub-grid in each square. To start you may choose to move in any square in any grid. Then the AI can choose a move only in the sub-grid corresponding to the location inside the sub-grid of your previous move. Once a sub-grid is won by a player that sub-game is complete and is claimed by the winning player. If a player is sent to a sub-grid that is already won then that player may move in any sub-grid. A player winning three sub-grids in a row, column, or diagonal wins the match.
                </p>
                <p>
                    For example, if your first move is in the center of the top-left grid, then the AI may move in any space in the center grid. If the AI chooses the bottom-right square in the center grid then your next move must be in the bottom-right grid. The game continues like this.
                </p>
                <p>
                    Available moves are indicated by purple highlighting.
                </p>
                <p>
                    On gameover, click any where to restart the game.
                </p>
            </div>
        </div>
    </main>
    <sideBar id="sideBarPlaceholder"></sideBar>
</div>
<footer id="footerPlaceholder" style="margin-top: 10px;"></footer>
</div>

<!-- JavaScript to load components -->
<script>
async function loadComponent(elementId, filePath) {
  try {
    const response = await fetch(filePath);
    if (!response.ok) {
      throw new Error(`HTTP error! Status: ${response.status}`);
    }
    const content = await response.text();
    if (!content) {
      console.warn(`File ${filePath} is empty or not loaded`);
    }
    document.getElementById(elementId).innerHTML = content;
  } catch (error) {
    console.error(`Error loading ${filePath}:`, error);
  }
}

// Load the components
loadComponent("sideBarPlaceholder", "/components/sidebar.html");
loadComponent("footerPlaceholder", "/components/footer.html");
function isPrime(n) {
    if (n < 2) return false;
    for (let i = 2; i <= Math.sqrt(n); i++) {
        if (n % i === 0) return false;
    }
    return true;
}

let currentNum = 2;
function updatePrime() {
    while (!isPrime(currentNum)) currentNum++;
    document.getElementById("prime-number").textContent = currentNum;
    currentNum++;
}
setInterval(updatePrime, 2000); // Updates every 2 seconds
updatePrime();
</script>
</div>
</body>
</html>